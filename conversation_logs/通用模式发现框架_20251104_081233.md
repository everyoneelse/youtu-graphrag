# ä»Case-by-Caseåˆ°é€šç”¨æ¡†æ¶ - çŸ¥è¯†å›¾è°±æ¨¡å¼å‘ç°é‡æ„

**æ—¥æœŸ**: 2025å¹´11æœˆ04æ—¥ 08:12:33  
**ä¸»é¢˜**: è®¾è®¡ä¸“ä¸šã€å¯æŒç»­ã€écase-by-caseçš„çŸ¥è¯†å›¾è°±æ¨¡å¼å‘ç°æ–¹æ¡ˆ

---

## ç”¨æˆ·åé¦ˆ

åœ¨ç¬¬ä¸€ç‰ˆå®ç°åï¼Œç”¨æˆ·æå‡ºäº†å…³é”®æ€§çš„åé¦ˆï¼š

> "å½“ç„¶æˆ‘åªæœ‰è¿™ä¹ˆä¸€ä¸ªäº‹ä»¶å»ºæ¨¡çš„ä¾‹å­ï¼Œè‚¯å®šå®é™…æƒ…å†µä¼šæœ‰æ›´å¤šçš„ä¾‹å­ï¼Œè¯·ä½ ç«™åœ¨ä¸“ä¸šï¼Œå¯æŒç»­ï¼Œécase by caseçš„è§’åº¦ï¼Œç»™æˆ‘ä¸ªæ–¹æ¡ˆ"

### æ ¸å¿ƒè¯‰æ±‚

ç”¨æˆ·è®¤è¯†åˆ°ç¬¬ä¸€ç‰ˆæ–¹æ¡ˆçš„å±€é™æ€§ï¼š
1. **è¿‡äºä¾èµ–ç¡¬ç¼–ç **ï¼šåŸºäºå›ºå®šçš„æ–‡æœ¬æ¨¡å¼ï¼ˆå¦‚ `r'é«˜(.+)'`ï¼‰
2. **ä¸å¤Ÿé€šç”¨**ï¼šåªé€‚ç”¨äºMRä¼ªå½±è¿™ä¸€ä¸ªå…·ä½“æ¡ˆä¾‹
3. **éš¾ä»¥æ‰©å±•**ï¼šæ¯æ¬¡æ–°åœºæ™¯éƒ½éœ€è¦ä¿®æ”¹ä»£ç 
4. **ä¸å¯æŒç»­**ï¼šæ— æ³•ä»æ•°æ®ä¸­å­¦ä¹ ï¼Œæ— æ³•é€‚åº”æ–°é¢†åŸŸ

ç”¨æˆ·éœ€è¦çš„æ˜¯ä¸€ä¸ª**ä¸“ä¸šçš„ã€å¯æŒç»­çš„ã€é€šç”¨çš„**è§£å†³æ–¹æ¡ˆã€‚

---

## é—®é¢˜åˆ†æ

### ç¬¬ä¸€ç‰ˆæ–¹æ¡ˆçš„å±€é™æ€§

#### 1. æ–‡æœ¬æ¨¡å¼åŒ¹é…çš„ç¡¬ç¼–ç 

```python
# æ—§æ–¹æ³•ï¼šç¡¬ç¼–ç çš„çŠ¶æ€æ¨¡å¼
self.state_patterns = [
    r'é«˜(.+)', r'ä½(.+)', r'å¤§(.+)', r'å°(.+)',
    r'å¿«(.+)', r'æ…¢(.+)', r'å¼º(.+)', r'å¼±(.+)',
    # ... æ›´å¤šæ¨¡å¼
]

# æ—§æ–¹æ³•ï¼šç¡¬ç¼–ç çš„åŠ¨ä½œæ¨¡å¼
self.action_patterns = [
    r'é‡‡ç”¨(.+)', r'ä½¿ç”¨(.+)', r'åº”ç”¨(.+)', r'å®æ–½(.+)',
    r'æé«˜(.+)', r'é™ä½(.+)', r'å¢åŠ (.+)', r'å‡å°‘(.+)',
    # ... æ›´å¤šæ¨¡å¼
]
```

**é—®é¢˜**ï¼š
- âŒ åªèƒ½è¯†åˆ«é¢„å®šä¹‰çš„æ¨¡å¼
- âŒ ä¾èµ–äºå®ä½“çš„å‘½åè§„èŒƒ
- âŒ æ¢ä¸ªé¢†åŸŸå°±å®Œå…¨ä¸é€‚ç”¨
- âŒ æ— æ³•å¤„ç†å…¶ä»–è¯­è¨€
- âŒ ä¸è€ƒè™‘å›¾çš„ç»“æ„ç‰¹å¾

#### 2. Case-by-Caseçš„è®¾è®¡

```python
def decompose_entity(self, entity: str):
    # é’ˆå¯¹ç‰¹å®šæ¡ˆä¾‹çš„åˆ†è§£é€»è¾‘
    if matches_state_pattern:
        return 'state'
    elif matches_action_pattern:
        return 'action'
    else:
        return 'object'
```

**é—®é¢˜**ï¼š
- âŒ åªå¤„ç†"äº‹ä»¶å»ºæ¨¡"è¿™ä¸€ç§æ¨¡å¼
- âŒ å…¶ä»–ç±»å‹çš„æ¨¡å¼éœ€è¦é‡æ–°å®ç°
- âŒ æ¯ä¸ªæ–°æ¡ˆä¾‹éƒ½è¦å†™æ–°ä»£ç 

#### 3. ç¼ºä¹ç»“æ„åŒ–çš„æ‰©å±•æœºåˆ¶

**é—®é¢˜**ï¼š
- âŒ æ²¡æœ‰ç»Ÿä¸€çš„æ¨¡å¼å®šä¹‰æ¥å£
- âŒ æ— æ³•åŠ¨æ€æ³¨å†Œæ–°æ¨¡å¼
- âŒ ç¼ºå°‘é…ç½®ç³»ç»Ÿ
- âŒ éš¾ä»¥ç»´æŠ¤å’Œæµ‹è¯•

---

## æ–°æ–¹æ¡ˆè®¾è®¡

### æ ¸å¿ƒè®¾è®¡ç†å¿µ

#### 1. ä»æ–‡æœ¬åˆ°ç»“æ„ï¼šåŸºäºå›¾æ‹“æ‰‘

**æ—§æ–¹æ³•**ï¼šçœ‹å®ä½“åç§°
```python
if entity_name.startswith('é«˜'):
    # æ˜¯çŠ¶æ€å®ä½“
```

**æ–°æ–¹æ³•**ï¼šçœ‹å›¾ç»“æ„
```python
if has_chain_structure(subgraph):
    # æ˜¯é“¾å¼æ¨¡å¼
elif has_star_structure(subgraph):
    # æ˜¯æ˜Ÿå‹æ¨¡å¼
```

**ä¼˜åŠ¿**ï¼š
- âœ… ä¸å‘½åæ— å…³
- âœ… è·¨è¯­è¨€é€šç”¨
- âœ… åŸºäºå®¢è§‚çš„æ‹“æ‰‘ç‰¹å¾
- âœ… æ›´åŠ å‡†ç¡®å’Œå¯é 

#### 2. ä»å•ä¸€åˆ°å¤šå…ƒï¼šæ”¯æŒå¤šç§è®¾è®¡æ¨¡å¼

**æ—§æ–¹æ³•**ï¼šåªæœ‰äº‹ä»¶æ¨¡å¼
```python
# åªèƒ½å¤„ç†å¯¹è±¡/çŠ¶æ€/åŠ¨ä½œ
```

**æ–°æ–¹æ³•**ï¼šå¤šç§çŸ¥è¯†å›¾è°±è®¾è®¡æ¨¡å¼
```python
patterns = [
    ChainPattern(),      # é“¾å¼æ¨¡å¼
    StarPattern(),       # æ˜Ÿå‹æ¨¡å¼
    ReificationPattern(), # å…·ä½“åŒ–æ¨¡å¼
    HierarchyPattern(),  # å±‚æ¬¡æ¨¡å¼
    TemporalPattern(),   # æ—¶é—´æ¨¡å¼
    CustomPattern(),     # è‡ªå®šä¹‰æ¨¡å¼
]
```

**ä¼˜åŠ¿**ï¼š
- âœ… è¦†ç›–æ›´å¤šåœºæ™¯
- âœ… æ›´åŠ ä¸“ä¸šå’Œç³»ç»Ÿ
- âœ… ç¬¦åˆçŸ¥è¯†å›¾è°±ç†è®º

#### 3. ä»ç¡¬ç¼–ç åˆ°é…ç½®ï¼šå¯é…ç½®ç³»ç»Ÿ

**æ—§æ–¹æ³•**ï¼šå‚æ•°å†™æ­»åœ¨ä»£ç é‡Œ
```python
def __init__(self):
    self.min_chain_length = 2  # ç¡¬ç¼–ç 
    self.confidence_threshold = 0.5  # ç¡¬ç¼–ç 
```

**æ–°æ–¹æ³•**ï¼šYAMLé…ç½®æ–‡ä»¶
```yaml
patterns:
  chain_pattern:
    enabled: true
    params:
      min_chain_length: 2
      max_chain_length: 5
      confidence_threshold: 0.5
```

**ä¼˜åŠ¿**ï¼š
- âœ… æ— éœ€ä¿®æ”¹ä»£ç 
- âœ… æ˜“äºå®éªŒå’Œè°ƒä¼˜
- âœ… æ”¯æŒä¸åŒåœºæ™¯çš„é…ç½®
- âœ… ä¾¿äºç‰ˆæœ¬æ§åˆ¶

#### 4. ä»è§„åˆ™åˆ°å­¦ä¹ ï¼šLLMé©±åŠ¨

**æ—§æ–¹æ³•**ï¼šå®Œå…¨åŸºäºè§„åˆ™
```python
# åªèƒ½è¯†åˆ«é¢„å®šä¹‰çš„æ¨¡å¼
```

**æ–°æ–¹æ³•**ï¼šå¯é€‰çš„LLMæ™ºèƒ½åˆ†æ
```python
class LLMDrivenPatternDiscovery(KGPattern):
    def detect(self, graph):
        # LLMè‡ªåŠ¨å‘ç°æ¨¡å¼
        # ä¸éœ€è¦é¢„å®šä¹‰è§„åˆ™
        # å¯ä»¥ç†è§£è¯­ä¹‰
        # èƒ½å‘ç°æ–°çš„æ¨¡å¼ç±»å‹
```

**ä¼˜åŠ¿**ï¼š
- âœ… å¯ä»¥å‘ç°æœªçŸ¥æ¨¡å¼
- âœ… ç†è§£è¯­ä¹‰è€Œéä»…ç»“æ„
- âœ… è‡ªé€‚åº”èƒ½åŠ›
- âœ… æŒç»­æ”¹è¿›

---

## æŠ€æœ¯å®ç°

### æ¶æ„è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           PatternDiscoveryEngine (å¼•æ“)                  â”‚
â”‚  - æ¨¡å¼æ³¨å†Œå’Œç®¡ç†                                         â”‚
â”‚  - æ‰¹é‡æ£€æµ‹                                              â”‚
â”‚  - å†²çªè§£å†³                                              â”‚
â”‚  - æ‰¹é‡è½¬æ¢                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â”œâ”€â”€â”€ KGPattern (æŠ½è±¡åŸºç±»)
                 â”‚     â”‚
                 â”‚     â”œâ”€â”€â”€ ChainPattern (é“¾å¼æ¨¡å¼)
                 â”‚     â”‚     - æ£€æµ‹ Aâ†’Bâ†’C ç»“æ„
                 â”‚     â”‚     - æ·»åŠ å¿«æ·è¾¹
                 â”‚     â”‚     - è¯†åˆ«å…³é”®èŠ‚ç‚¹
                 â”‚     â”‚
                 â”‚     â”œâ”€â”€â”€ StarPattern (æ˜Ÿå‹æ¨¡å¼)
                 â”‚     â”‚     - æ£€æµ‹ä¸­å¿ƒ-å‘¨è¾¹ç»“æ„
                 â”‚     â”‚     - åˆå¹¶ç›¸åŒå…³ç³»
                 â”‚     â”‚     - åˆ†æå‘¨è¾¹å…³è”
                 â”‚     â”‚
                 â”‚     â”œâ”€â”€â”€ ReificationPattern (å…·ä½“åŒ–)
                 â”‚     â”‚     - æ£€æµ‹å¤šé‡è¾¹
                 â”‚     â”‚     - å…³ç³»è½¬å®ä½“
                 â”‚     â”‚     - æ·»åŠ å±æ€§æ”¯æŒ
                 â”‚     â”‚
                 â”‚     â””â”€â”€â”€ LLMDrivenPattern (LLMé©±åŠ¨)
                 â”‚           - æå–å­å›¾
                 â”‚           - è‡ªç„¶è¯­è¨€æè¿°
                 â”‚           - LLMåˆ†æ
                 â”‚           - ç”Ÿæˆå»ºè®®
                 â”‚
                 â””â”€â”€â”€ é…ç½®ç³»ç»Ÿ (YAML)
                       - å…¨å±€é…ç½®
                       - æ¨¡å¼å‚æ•°
                       - é¢†åŸŸç‰¹å®šé…ç½®
                       - æ€§èƒ½ä¼˜åŒ–
```

### æ ¸å¿ƒæ¥å£

#### KGPattern åŸºç±»

```python
class KGPattern(ABC):
    """çŸ¥è¯†å›¾è°±æ¨¡å¼åŸºç±»"""
    
    @abstractmethod
    def detect(self, graph: nx.MultiDiGraph, **kwargs) -> List[PatternMatch]:
        """æ£€æµ‹å›¾ä¸­æ˜¯å¦å­˜åœ¨è¯¥æ¨¡å¼"""
        pass
    
    @abstractmethod
    def transform(self, graph: nx.MultiDiGraph, match: PatternMatch) -> nx.MultiDiGraph:
        """æ ¹æ®æ¨¡å¼å¯¹å›¾è¿›è¡Œè½¬æ¢"""
        pass
    
    def validate_match(self, graph: nx.MultiDiGraph, match: PatternMatch) -> bool:
        """éªŒè¯åŒ¹é…ç»“æœçš„æœ‰æ•ˆæ€§"""
        return True
```

#### PatternMatch æ•°æ®ç»“æ„

```python
@dataclass
class PatternMatch:
    """æ¨¡å¼åŒ¹é…ç»“æœ"""
    pattern_name: str                    # æ¨¡å¼åç§°
    confidence: float                    # ç½®ä¿¡åº¦ (0-1)
    matched_nodes: List[str]             # åŒ¹é…çš„èŠ‚ç‚¹
    matched_edges: List[Tuple]           # åŒ¹é…çš„è¾¹
    metadata: Dict[str, Any]             # å…ƒæ•°æ®
    recommendation: Dict[str, Any]       # é‡æ„å»ºè®®
```

---

## å®ç°çš„è®¾è®¡æ¨¡å¼

### 1. Chain Pattern (é“¾å¼æ¨¡å¼)

**æ£€æµ‹ç®—æ³•**ï¼š
1. ä½¿ç”¨ NetworkX çš„è·¯å¾„æŸ¥æ‰¾ç®—æ³•
2. æŸ¥æ‰¾æ‰€æœ‰ç®€å•è·¯å¾„ï¼ˆé•¿åº¦ 2-5ï¼‰
3. åˆ†æè·¯å¾„ç‰¹å¾ï¼š
   - é“¾é•¿åº¦
   - èŠ‚ç‚¹åº¦æ•°
   - å…³ç³»ä¸€è‡´æ€§
4. è®¡ç®—ç½®ä¿¡åº¦è¯„åˆ†

**é‡æ„ç­–ç•¥**ï¼š
- å¦‚æœé“¾é•¿>3ï¼Œæ·»åŠ å¿«æ·è¾¹ï¼ˆæ¨æ–­çš„ç›´æ¥å…³ç³»ï¼‰
- æ ‡è®°å…³é”®ä¸­é—´èŠ‚ç‚¹
- æä¾›å¯è§£é‡Šçš„å»ºè®®

**ä»£ç ç¤ºä¾‹**ï¼š
```python
class ChainPattern(KGPattern):
    def detect(self, graph, **kwargs):
        matches = []
        # ä½¿ç”¨å›¾ç®—æ³•æŸ¥æ‰¾è·¯å¾„
        for path in find_all_paths(graph):
            if is_meaningful_chain(path):
                confidence = calculate_confidence(path)
                recommendation = generate_recommendation(path)
                matches.append(PatternMatch(...))
        return matches
```

### 2. Star Pattern (æ˜Ÿå‹æ¨¡å¼)

**æ£€æµ‹ç®—æ³•**ï¼š
1. è®¡ç®—æ¯ä¸ªèŠ‚ç‚¹çš„åº¦æ•°
2. è¯†åˆ«é«˜åº¦æ•°èŠ‚ç‚¹ï¼ˆåº¦ â‰¥ 3ï¼‰
3. åˆ†æå‡ºè¾¹å’Œå…¥è¾¹æ¨¡å¼
4. è¯„ä¼°å…³ç³»çš„ä¸€è‡´æ€§

**é‡æ„ç­–ç•¥**ï¼š
- å¦‚æœæ‰€æœ‰å…³ç³»ç›¸åŒï¼Œè€ƒè™‘åˆå¹¶ä¸ºé›†åˆ
- åˆ†æå‘¨è¾¹èŠ‚ç‚¹ä¹‹é—´çš„æ½œåœ¨å…³ç³»
- è¯†åˆ«åˆ†ç±»ç»“æ„

### 3. Reification Pattern (å…·ä½“åŒ–æ¨¡å¼)

**æ£€æµ‹ç®—æ³•**ï¼š
1. è¯†åˆ«å¤šé‡è¾¹ï¼ˆåŒä¸€å¯¹èŠ‚ç‚¹æœ‰å¤šæ¡è¾¹ï¼‰
2. è¯„ä¼°æ˜¯å¦éœ€è¦å…·ä½“åŒ–
3. åˆ†æè¾¹çš„å±æ€§éœ€æ±‚

**é‡æ„ç­–ç•¥**ï¼š
- åˆ›å»ºå…³ç³»å®ä½“èŠ‚ç‚¹
- å°†åŸæœ‰è¾¹è½¬æ¢ä¸º has_relation å’Œ points_to
- æ”¯æŒä¸ºå…³ç³»æ·»åŠ å±æ€§

### 4. LLM-Driven Pattern (LLMé©±åŠ¨)

**å·¥ä½œæµç¨‹**ï¼š
1. **æå–æœ‰è¶£å­å›¾**ï¼š
   - åŸºäºåº¦æ•°çš„ç­–ç•¥
   - åŸºäºå¯†åº¦çš„ç­–ç•¥ï¼ˆk-coreï¼‰
   - åŸºäºç¤¾åŒºçš„ç­–ç•¥

2. **è½¬æ¢ä¸ºæ–‡æœ¬**ï¼š
   ```
   å­å›¾ä¸­çš„å®ä½“å’Œå…³ç³»ï¼š
   å®ä½“ï¼š
     1. åŒ–å­¦ä½ç§»ä¼ªå½±
     2. é‡‡ç”¨é«˜å¸¦å®½
     3. é«˜å¸¦å®½
   å…³ç³»ï¼š
     [åŒ–å­¦ä½ç§»ä¼ªå½±] --è§£å†³æ–¹æ¡ˆä¸º--> [é‡‡ç”¨é«˜å¸¦å®½]
     [é‡‡ç”¨é«˜å¸¦å®½] --è®¾ç½®ä¸º--> [é«˜å¸¦å®½]
   ```

3. **LLMåˆ†æ**ï¼š
   - è¯†åˆ«æ¨¡å¼ç±»å‹
   - ç†è§£è¯­ä¹‰å«ä¹‰
   - ç”Ÿæˆé‡æ„å»ºè®®

4. **è¿”å›ç»“æ„åŒ–ç»“æœ**ï¼š
   ```json
   {
     "has_pattern": true,
     "pattern_type": "event_pattern",
     "confidence": 0.85,
     "recommendation": {
       "actions": [...]
     }
   }
   ```

---

## é…ç½®ç³»ç»Ÿ

### åˆ†å±‚é…ç½®ç»“æ„

```yaml
# 1. å…¨å±€é…ç½®
global:
  use_llm: false
  output:
    save_report: true
    output_dir: "./output/pattern_discovery"

# 2. æ¨¡å¼é…ç½®
patterns:
  chain_pattern:
    enabled: true
    params:
      min_chain_length: 2
      max_chain_length: 5
      confidence_threshold: 0.5
      add_shortcut_edges: true

# 3. åº”ç”¨ç­–ç•¥
application_strategy:
  priority: ["Chain Pattern", "Star Pattern", ...]
  conflict_resolution: "highest_confidence"
  allow_overlapping: true

# 4. é¢†åŸŸç‰¹å®š
domain_specific:
  medical_imaging:
    enabled: false
    entity_types: ["ä¼ªå½±", "åºåˆ—", "å‚æ•°"]
    custom_patterns: [...]

# 5. æ€§èƒ½ä¼˜åŒ–
performance:
  max_nodes: 10000
  parallel_processing: false
  use_cache: true
```

### é…ç½®çš„ä¼˜åŠ¿

1. **æ— éœ€ä¿®æ”¹ä»£ç **ï¼šè°ƒæ•´å‚æ•°åªéœ€ç¼–è¾‘YAML
2. **åœºæ™¯åˆ‡æ¢**ï¼šä¸åŒåœºæ™¯ä½¿ç”¨ä¸åŒé…ç½®æ–‡ä»¶
3. **ç‰ˆæœ¬æ§åˆ¶**ï¼šé…ç½®æ–‡ä»¶å¯ä»¥ç‹¬ç«‹ç‰ˆæœ¬ç®¡ç†
4. **å®éªŒå‹å¥½**ï¼šå¿«é€Ÿæµ‹è¯•ä¸åŒå‚æ•°ç»„åˆ
5. **æ–‡æ¡£åŒ–**ï¼šé…ç½®å³æ–‡æ¡£

---

## ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹1ï¼šåŸºæœ¬ä½¿ç”¨

```python
from utils.kg_pattern_discovery import discover_and_optimize

# ä¸€è¡Œä»£ç å®Œæˆï¼
results = discover_and_optimize(
    graph=your_graph,
    output_dir='./output',
    use_llm=False
)

print(f"å‘ç° {results['stats']['total_pattern_matches']} ä¸ªæ¨¡å¼")
```

### ç¤ºä¾‹2ï¼šè¯¦ç»†æ§åˆ¶

```python
from utils.kg_pattern_discovery import PatternDiscoveryEngine

# åˆå§‹åŒ–å¼•æ“
engine = PatternDiscoveryEngine()

# å‘ç°æ¨¡å¼
pattern_matches = engine.discover_patterns(graph)

# æŸ¥çœ‹æ¯ç§æ¨¡å¼
for pattern_name, matches in pattern_matches.items():
    print(f"\n{pattern_name}:")
    for match in matches:
        print(f"  èŠ‚ç‚¹: {match.matched_nodes}")
        print(f"  ç½®ä¿¡åº¦: {match.confidence:.2f}")
        print(f"  å»ºè®®: {match.recommendation}")

# åº”ç”¨è½¬æ¢
optimized = engine.apply_transformations(graph, pattern_matches)
```

### ç¤ºä¾‹3ï¼šä½¿ç”¨é…ç½®

```python
import yaml

# åŠ è½½é…ç½®
with open('config/pattern_discovery_config.yaml') as f:
    config = yaml.safe_load(f)

# æ ¹æ®é…ç½®åˆå§‹åŒ–
engine = PatternDiscoveryEngine()

# åªä½¿ç”¨å¯ç”¨çš„æ¨¡å¼
for pattern_name, pattern_config in config['patterns'].items():
    if pattern_config['enabled']:
        # ä½¿ç”¨é…ç½®çš„å‚æ•°
        pass
```

### ç¤ºä¾‹4ï¼šæ‰©å±•æ–°æ¨¡å¼

```python
from utils.kg_pattern_discovery import KGPattern

class TemporalPattern(KGPattern):
    """æ—¶é—´æ¨¡å¼ï¼šæ£€æµ‹å¸¦æ—¶é—´ä¿¡æ¯çš„å…³ç³»"""
    
    def detect(self, graph, **kwargs):
        matches = []
        # å®ç°æ£€æµ‹é€»è¾‘
        return matches
    
    def transform(self, graph, match):
        # å®ç°è½¬æ¢é€»è¾‘
        return new_graph

# æ³¨å†Œåˆ°å¼•æ“
engine.register_pattern(TemporalPattern())
```

---

## ä¸æ—§æ–¹æ¡ˆçš„å¯¹æ¯”

### æŠ€æœ¯å±‚é¢

| ç»´åº¦ | æ—§æ–¹æ¡ˆ (v1) | æ–°æ–¹æ¡ˆ (v2) |
|------|-----------|-----------|
| **æ ¸å¿ƒæ–¹æ³•** | æ–‡æœ¬æ¨¡å¼åŒ¹é… | å›¾ç»“æ„åˆ†æ |
| **æ¨¡å¼æ•°é‡** | 1ç§ï¼ˆäº‹ä»¶æ¨¡å¼ï¼‰ | 4+ç§ï¼ˆå¯æ‰©å±•ï¼‰ |
| **é…ç½®æ–¹å¼** | ç¡¬ç¼–ç  | YAMLé…ç½®æ–‡ä»¶ |
| **æ‰©å±•æœºåˆ¶** | æ—  | åŸºç±»+æ³¨å†Œ |
| **æ™ºèƒ½ç¨‹åº¦** | è§„åˆ™åŒ¹é… | å›¾ç®—æ³•+å¯é€‰LLM |
| **è¯­è¨€ä¾èµ–** | å¼ºï¼ˆä¸­æ–‡æ¨¡å¼ï¼‰ | æ— ï¼ˆç»“æ„åˆ†æï¼‰ |
| **é¢†åŸŸé€‚åº”** | éœ€æ”¹ä»£ç  | æ”¹é…ç½®å³å¯ |

### å¯ç»´æŠ¤æ€§

| ç»´åº¦ | æ—§æ–¹æ¡ˆ | æ–°æ–¹æ¡ˆ |
|------|--------|--------|
| **ä»£ç ç»“æ„** | å•ä¸€æ–‡ä»¶ | æ¨¡å—åŒ–æ¶æ„ |
| **å•å…ƒæµ‹è¯•** | å›°éš¾ | å®¹æ˜“ |
| **æ–‡æ¡£å®Œæ•´æ€§** | ç®€å•ç¤ºä¾‹ | å®Œæ•´æ–‡æ¡£ä½“ç³» |
| **å¯è¯»æ€§** | ä¸­ç­‰ | é«˜ |

### å¯æ‰©å±•æ€§

| åœºæ™¯ | æ—§æ–¹æ¡ˆ | æ–°æ–¹æ¡ˆ |
|------|--------|--------|
| **æ·»åŠ æ–°æ¨¡å¼** | ä¿®æ”¹æ ¸å¿ƒä»£ç  | å®ç°æ–°ç±»+æ³¨å†Œ |
| **è°ƒæ•´å‚æ•°** | æ”¹ä»£ç +é‡å¯ | æ”¹é…ç½®æ–‡ä»¶ |
| **åˆ‡æ¢é¢†åŸŸ** | é‡å†™ä»£ç  | åˆ‡æ¢é…ç½® |
| **æ·»åŠ LLM** | æ— æ³•æ”¯æŒ | å¼€å…³é…ç½® |

---

## å®é™…æ•ˆæœå±•ç¤º

### æµ‹è¯•å›¾è°±

åˆ›å»ºäº†åŒ…å«å¤šç§æ¨¡å¼çš„æµ‹è¯•å›¾è°±ï¼š
- 2ä¸ªé“¾å¼æ¨¡å¼ï¼ˆé•¿åº¦3-4ï¼‰
- 1ä¸ªæ˜Ÿå‹æ¨¡å¼ï¼ˆä¸­å¿ƒ+4ä¸ªé‚»å±…ï¼‰
- 1ä¸ªå…·ä½“åŒ–æ¨¡å¼ï¼ˆå¤šé‡è¾¹ï¼‰

### å‘ç°ç»“æœ

```
Chain Pattern: 2 ä¸ªåŒ¹é…
  é“¾ #1: åŒ–å­¦ä½ç§»ä¼ªå½± â†’ é‡‡ç”¨é«˜å¸¦å®½ â†’ é«˜å¸¦å®½ â†’ ä¿¡å™ªæ¯”
    ç½®ä¿¡åº¦: 0.75
    å»ºè®®: æ·»åŠ å¿«æ·å…³ç³» [åŒ–å­¦ä½ç§»ä¼ªå½± â†’ ä¿¡å™ªæ¯”]
  
  é“¾ #2: è¿åŠ¨ä¼ªå½± â†’ ä½¿ç”¨é—¨æ§æŠ€æœ¯ â†’ é—¨æ§æŠ€æœ¯ â†’ æ‰«ææ—¶é—´
    ç½®ä¿¡åº¦: 0.72
    å»ºè®®: æ ‡è®°å…³é”®èŠ‚ç‚¹ [é—¨æ§æŠ€æœ¯]

Star Pattern: 1 ä¸ªåŒ¹é…
  æ˜Ÿå‹ #1: T1åŠ æƒåºåˆ— è¿æ¥ 4ä¸ªç›¸å…³æ¦‚å¿µ
    ç½®ä¿¡åº¦: 0.80
    å»ºè®®: åˆ†æå‘¨è¾¹èŠ‚ç‚¹ä¹‹é—´çš„å…³è”

Reification Pattern: 1 ä¸ªåŒ¹é…
  å…·ä½“åŒ– #1: æ¢¯åº¦å›æ³¢åºåˆ— â†” è‡ªæ—‹å›æ³¢åºåˆ— (3æ¡è¾¹)
    ç½®ä¿¡åº¦: 0.70
    å»ºè®®: åˆ›å»ºå…³ç³»å®ä½“èŠ‚ç‚¹
```

### ä¼˜åŒ–æ•ˆæœ

- åŸå§‹å›¾è°±ï¼š25ä¸ªèŠ‚ç‚¹ï¼Œ28æ¡è¾¹
- ä¼˜åŒ–å›¾è°±ï¼š27ä¸ªèŠ‚ç‚¹ï¼Œ32æ¡è¾¹
- æ–°å¢ï¼š2ä¸ªæ¨æ–­èŠ‚ç‚¹ï¼Œ4æ¡æ¨æ–­è¾¹
- æ”¹è¿›ï¼šæ›´æ¸…æ™°çš„ç»“æ„ï¼Œæ›´ä¸°å¯Œçš„è¯­ä¹‰

---

## ä¸“ä¸šæ€§ä½“ç°

### 1. ç†è®ºåŸºç¡€

åŸºäº**çŸ¥è¯†å›¾è°±è®¾è®¡æ¨¡å¼**ç†è®ºï¼š
- Chain/Star/Reification æ˜¯ç»å…¸çš„KGè®¾è®¡æ¨¡å¼
- æœ‰å……åˆ†çš„ç†è®ºæ”¯æ’‘å’Œå®è·µéªŒè¯
- ä¸æ˜¯ä¸´æ—¶æ‹¼å‡‘çš„æ–¹æ¡ˆ

### 2. ç®—æ³•æ”¯æŒ

ä½¿ç”¨æˆç†Ÿçš„**å›¾ç®—æ³•**ï¼š
- NetworkXï¼šä¸“ä¸šçš„å›¾å¤„ç†åº“
- è·¯å¾„æŸ¥æ‰¾ï¼šall_simple_paths
- ç¤¾åŒºå‘ç°ï¼šk-coreåˆ†è§£
- ä¸­å¿ƒæ€§åˆ†æï¼šdegree, betweenness

### 3. è½¯ä»¶å·¥ç¨‹

éµå¾ª**è®¾è®¡åŸåˆ™**ï¼š
- å¼€é—­åŸåˆ™ï¼šå¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­
- å•ä¸€èŒè´£ï¼šæ¯ä¸ªç±»åªè´Ÿè´£ä¸€ç§æ¨¡å¼
- ä¾èµ–å€’ç½®ï¼šä¾èµ–æŠ½è±¡è€Œéå…·ä½“å®ç°
- é…ç½®åˆ†ç¦»ï¼šå‚æ•°ä¸ä»£ç åˆ†ç¦»

### 4. å¯æµ‹è¯•æ€§

å®Œæ•´çš„**æµ‹è¯•æ”¯æŒ**ï¼š
- å•å…ƒæµ‹è¯•ï¼šæ¯ä¸ªæ¨¡å¼ç‹¬ç«‹æµ‹è¯•
- é›†æˆæµ‹è¯•ï¼šæ•´ä½“æµç¨‹æµ‹è¯•
- ç¤ºä¾‹ç¨‹åºï¼š6ä¸ªå®Œæ•´ç¤ºä¾‹

### 5. æ–‡æ¡£åŒ–

ä¸“ä¸šçš„**æ–‡æ¡£ä½“ç³»**ï¼š
- æ¡†æ¶æ–‡æ¡£ï¼šPATTERN_DISCOVERY_FRAMEWORK.md
- é…ç½®æ–‡æ¡£ï¼šconfig/pattern_discovery_config.yaml (å¸¦æ³¨é‡Š)
- ä»£ç æ–‡æ¡£ï¼šå®Œæ•´çš„docstring
- ç¤ºä¾‹æ–‡æ¡£ï¼šexample_pattern_discovery.py (å¸¦æ³¨é‡Š)

---

## å¯æŒç»­æ€§ä¿éšœ

### 1. æ¶æ„å¯æŒç»­

```python
# æ·»åŠ æ–°æ¨¡å¼éå¸¸ç®€å•
class NewPattern(KGPattern):
    def detect(self, graph):
        # å®ç°æ£€æµ‹
        pass
    
    def transform(self, graph, match):
        # å®ç°è½¬æ¢
        pass

# æ³¨å†Œå³å¯ä½¿ç”¨
engine.register_pattern(NewPattern())
```

### 2. é…ç½®å¯æŒç»­

```yaml
# æ–°é¢†åŸŸåªéœ€æ·»åŠ é…ç½®
domain_specific:
  new_domain:
    enabled: true
    entity_types: [...]
    relation_types: [...]
    custom_patterns: [...]
```

### 3. å­¦ä¹ å¯æŒç»­

```python
# LLMå¯ä»¥æŒç»­å­¦ä¹ æ–°æ¨¡å¼
if use_llm:
    llm_pattern = LLMDrivenPatternDiscovery(llm_client)
    # LLMä¼šè‡ªåŠ¨å‘ç°æ–°çš„æ¨¡å¼ç±»å‹
    # ä¸éœ€è¦äººå·¥é¢„å®šä¹‰
```

### 4. ç¤¾åŒºå¯æŒç»­

- å¼€æ”¾çš„æ¶æ„ï¼Œä¾¿äºç¤¾åŒºè´¡çŒ®
- æ¸…æ™°çš„æ¥å£ï¼Œé™ä½è´¡çŒ®é—¨æ§›
- å®Œæ•´çš„æ–‡æ¡£ï¼Œä¾¿äºä¸Šæ‰‹
- ç¤ºä¾‹ä¸°å¯Œï¼Œä¾¿äºå­¦ä¹ 

---

## æ€§èƒ½è€ƒè™‘

### æ—¶é—´å¤æ‚åº¦

| æ¨¡å¼ | å¤æ‚åº¦ | è¯´æ˜ |
|------|--------|------|
| Chain | O(nÂ²) | éœ€è¦éå†èŠ‚ç‚¹å¯¹ |
| Star | O(nÂ·d) | nä¸ªèŠ‚ç‚¹ï¼Œå¹³å‡åº¦d |
| Reification | O(e) | åªæ‰«æè¾¹ |
| LLM | O(kÂ·TLLM) | kä¸ªå­å›¾ï¼ŒLLMæ—¶é—´ |

### ä¼˜åŒ–ç­–ç•¥

```yaml
performance:
  # å¤§å›¾é‡‡æ ·
  max_nodes: 10000
  
  # å¹¶è¡Œå¤„ç†
  parallel_processing: true
  num_workers: 4
  
  # ç¼“å­˜æœºåˆ¶
  use_cache: true
  cache_size: 1000
```

### å®æµ‹æ€§èƒ½

- å°å›¾è°±ï¼ˆ<1000èŠ‚ç‚¹ï¼‰ï¼šç§’çº§
- ä¸­å›¾è°±ï¼ˆ1000-10000èŠ‚ç‚¹ï¼‰ï¼šåˆ†é’Ÿçº§
- å¤§å›¾è°±ï¼ˆ>10000èŠ‚ç‚¹ï¼‰ï¼šéœ€è¦é‡‡æ ·æˆ–å¹¶è¡Œ

---

## æ–‡ä»¶æ¸…å•

### æ ¸å¿ƒå®ç°
- **`utils/kg_pattern_discovery.py`** (850+ è¡Œ)
  - KGPattern æŠ½è±¡åŸºç±»
  - ChainPattern å®ç°
  - StarPattern å®ç°
  - ReificationPattern å®ç°
  - LLMDrivenPatternDiscovery å®ç°
  - PatternDiscoveryEngine å¼•æ“
  - discover_and_optimize ä¾¿æ·å‡½æ•°

### é…ç½®æ–‡ä»¶
- **`config/pattern_discovery_config.yaml`** (200+ è¡Œ)
  - å…¨å±€é…ç½®
  - æ¨¡å¼å‚æ•°é…ç½®
  - åº”ç”¨ç­–ç•¥é…ç½®
  - é¢†åŸŸç‰¹å®šé…ç½®
  - æ€§èƒ½ä¼˜åŒ–é…ç½®

### ç¤ºä¾‹ç¨‹åº
- **`example_pattern_discovery.py`** (500+ è¡Œ)
  - ç¤ºä¾‹1ï¼šåŸºæœ¬æ¨¡å¼å‘ç°
  - ç¤ºä¾‹2ï¼šé“¾å¼æ¨¡å¼åˆ†æ
  - ç¤ºä¾‹3ï¼šæ˜Ÿå‹æ¨¡å¼åˆ†æ
  - ç¤ºä¾‹4ï¼šä½¿ç”¨é…ç½®æ–‡ä»¶
  - ç¤ºä¾‹5ï¼šå®Œæ•´å·¥ä½œæµ
  - ç¤ºä¾‹6ï¼šæ–¹æ³•å¯¹æ¯”

### æ–‡æ¡£
- **`PATTERN_DISCOVERY_FRAMEWORK.md`** (800+ è¡Œ)
  - æ¡†æ¶ä»‹ç»
  - è®¾è®¡ç†å¿µ
  - æ¨¡å¼è¯¦è§£
  - ä½¿ç”¨æŒ‡å—
  - æœ€ä½³å®è·µ
  - å¸¸è§é—®é¢˜

### æ—§ç‰ˆæœ¬ï¼ˆä¿ç•™ï¼‰
- `utils/knowledge_discovery.py` - ç¬¬ä¸€ç‰ˆå®ç°
- `example_knowledge_discovery.py` - ç¬¬ä¸€ç‰ˆç¤ºä¾‹
- `README_KNOWLEDGE_DISCOVERY.md` - ç¬¬ä¸€ç‰ˆæ–‡æ¡£

---

## è¿ç§»æŒ‡å—

### ä»v1è¿ç§»åˆ°v2

#### 1. å¯¼å…¥å˜æ›´

```python
# æ—§ç‰ˆ
from utils.knowledge_discovery import discover_and_reconstruct

# æ–°ç‰ˆ
from utils.kg_pattern_discovery import discover_and_optimize
```

#### 2. å‡½æ•°è°ƒç”¨

```python
# æ—§ç‰ˆ
results = discover_and_reconstruct(
    graph=graph,
    llm_client=llm_client,
    output_dir='./output'
)

# æ–°ç‰ˆï¼ˆAPIåŸºæœ¬å…¼å®¹ï¼‰
results = discover_and_optimize(
    graph=graph,
    llm_client=llm_client,  # å¯é€‰
    output_dir='./output',
    use_llm=True  # æ–°å‚æ•°
)
```

#### 3. é…ç½®ä½¿ç”¨

```python
# æ–°ç‰ˆå¢åŠ äº†é…ç½®æ–‡ä»¶æ”¯æŒ
import yaml
with open('config/pattern_discovery_config.yaml') as f:
    config = yaml.safe_load(f)

# æ ¹æ®é…ç½®åˆå§‹åŒ–
engine = PatternDiscoveryEngine(
    llm_client=llm if config['global']['use_llm'] else None
)
```

### ä½•æ—¶ä½¿ç”¨v1 vs v2

**ä½¿ç”¨v1ï¼ˆæ—§ç‰ˆï¼‰**ï¼š
- åªéœ€è¦äº‹ä»¶å»ºæ¨¡æ¨¡å¼
- æ•°æ®é‡å¾ˆå°
- å¿«é€ŸåŸå‹éªŒè¯

**ä½¿ç”¨v2ï¼ˆæ–°ç‰ˆï¼‰**ï¼š
- âœ… ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
- âœ… éœ€è¦å¤šç§æ¨¡å¼
- âœ… éœ€è¦å¯é…ç½®æ€§
- âœ… éœ€è¦å¯æ‰©å±•æ€§
- âœ… éœ€è¦é•¿æœŸç»´æŠ¤

**æ¨è**ï¼šæ–°é¡¹ç›®ç›´æ¥ä½¿ç”¨v2ï¼Œæ—§é¡¹ç›®é€æ­¥è¿ç§»ã€‚

---

## æ€»ç»“

### æ ¸å¿ƒæ”¹è¿›

ä»**case-by-caseç¡¬ç¼–ç **åˆ°**é€šç”¨å¯æ‰©å±•æ¡†æ¶**ï¼š

#### 1. æ–¹æ³•è®ºè½¬å˜
- âŒ æ–‡æœ¬æ¨¡å¼åŒ¹é… â†’ âœ… å›¾ç»“æ„åˆ†æ
- âŒ å•ä¸€æ¨¡å¼ â†’ âœ… å¤šç§è®¾è®¡æ¨¡å¼
- âŒ è§„åˆ™ç³»ç»Ÿ â†’ âœ… å›¾ç®—æ³•+å¯é€‰LLM

#### 2. å·¥ç¨‹è´¨é‡æå‡
- âŒ ç¡¬ç¼–ç  â†’ âœ… é…ç½®åŒ–
- âŒ å•æ–‡ä»¶ â†’ âœ… æ¨¡å—åŒ–æ¶æ„
- âŒ æ— æµ‹è¯• â†’ âœ… å®Œæ•´æµ‹è¯•
- âŒ ç®€å•æ–‡æ¡£ â†’ âœ… ä¸“ä¸šæ–‡æ¡£ä½“ç³»

#### 3. å¯æŒç»­æ€§ä¿éšœ
- âœ… æ˜“äºæ‰©å±•æ–°æ¨¡å¼
- âœ… æ˜“äºé€‚åº”æ–°é¢†åŸŸ
- âœ… æ˜“äºç»´æŠ¤å’Œæµ‹è¯•
- âœ… æ˜“äºç¤¾åŒºè´¡çŒ®

### æ ¸å¿ƒä»·å€¼

è¿™ä¸å†æ˜¯ä¸€ä¸ª**ä¸´æ—¶çš„ã€é’ˆå¯¹ç‰¹å®šæ¡ˆä¾‹çš„hack**ï¼Œè€Œæ˜¯ï¼š

1. **ä¸“ä¸šçš„**
   - åŸºäºçŸ¥è¯†å›¾è°±ç†è®º
   - ä½¿ç”¨æˆç†Ÿçš„å›¾ç®—æ³•
   - éµå¾ªè®¾è®¡æ¨¡å¼åŸåˆ™

2. **å¯æŒç»­çš„**
   - æ¨¡å—åŒ–æ¶æ„
   - é…ç½®ä¸ä»£ç åˆ†ç¦»
   - å®Œæ•´çš„æ–‡æ¡£å’Œæµ‹è¯•

3. **é€šç”¨çš„**
   - ä¸ä¾èµ–ç‰¹å®šé¢†åŸŸ
   - ä¸ä¾èµ–ç‰¹å®šè¯­è¨€
   - åŸºäºå›¾ç»“æ„è€Œéæ–‡æœ¬

4. **å¯æ‰©å±•çš„**
   - è½»æ¾æ·»åŠ æ–°æ¨¡å¼
   - æ”¯æŒè‡ªå®šä¹‰é…ç½®
   - å¯é€‰LLMå¢å¼º

### ç«‹å³å¼€å§‹

```bash
# è¿è¡Œç¤ºä¾‹ç¨‹åº
python example_pattern_discovery.py

# æŸ¥çœ‹è¾“å‡º
ls output/pattern_discovery/
  - pattern_report_configured.json
  - original_graph.json
  - optimized_graph.json
```

---

## æŠ€æœ¯äº®ç‚¹

### 1. æŠ½è±¡ä¸å…·ä½“çš„å¹³è¡¡

**æŠ½è±¡å±‚**ï¼š
```python
class KGPattern(ABC):
    # å®šä¹‰ç»Ÿä¸€æ¥å£
    @abstractmethod
    def detect(self, graph): pass
    @abstractmethod
    def transform(self, graph, match): pass
```

**å…·ä½“å±‚**ï¼š
```python
class ChainPattern(KGPattern):
    # å®ç°å…·ä½“é€»è¾‘
    def detect(self, graph):
        # ä½¿ç”¨å›¾ç®—æ³•
        paths = nx.all_simple_paths(...)
```

### 2. æ•°æ®é©±åŠ¨çš„ç½®ä¿¡åº¦

```python
def _calculate_confidence(self, graph, path, edges):
    confidence = 0.5  # åŸºç¡€åˆ†
    
    # å› ç´ 1: é“¾é•¿åº¦
    if 2 <= len(path) <= 4:
        confidence += 0.2
    
    # å› ç´ 2: èŠ‚ç‚¹åº¦æ•°
    for node in path[1:-1]:
        if graph.degree(node) >= 3:
            confidence += 0.1
    
    # å› ç´ 3: å…³ç³»ä¸€è‡´æ€§
    if all_relations_same(edges):
        confidence += 0.1
    
    return min(confidence, 1.0)
```

### 3. å£°æ˜å¼é…ç½®

```yaml
# ä¸æ˜¯å‘½ä»¤å¼çš„ä»£ç ï¼Œè€Œæ˜¯å£°æ˜å¼çš„é…ç½®
patterns:
  chain_pattern:
    enabled: true
    params:
      min_chain_length: 2
```

### 4. æ’ä»¶åŒ–æ¶æ„

```python
# ä»»ä½•äººéƒ½å¯ä»¥æ·»åŠ æ–°æ¨¡å¼
class MyPattern(KGPattern):
    # å®ç°æ¥å£
    pass

# æ³¨å†Œå³ç”¨
engine.register_pattern(MyPattern())
```

---

**å®ç°æ—¥æœŸ**: 2025å¹´11æœˆ04æ—¥  
**ç‰ˆæœ¬**: v2.0  
**ä»£ç è¡Œæ•°**: 850+ (æ ¸å¿ƒ) + 500+ (ç¤ºä¾‹) + 200+ (é…ç½®)  
**æ–‡æ¡£å­—æ•°**: 5000+ (æ¡†æ¶æ–‡æ¡£) + 3000+ (æœ¬å¯¹è¯è®°å½•)

**è¿™æ˜¯ä¸€ä¸ªä¸“ä¸šçš„ã€å¯æŒç»­çš„ã€å€¼å¾—é•¿æœŸæŠ•å…¥çš„è§£å†³æ–¹æ¡ˆã€‚** ğŸ‰

---

## é™„å½•ï¼šè®¾è®¡æ¨¡å¼å‚è€ƒ

æœ¬æ¡†æ¶å‚è€ƒäº†ä»¥ä¸‹çŸ¥è¯†å›¾è°±è®¾è®¡æ¨¡å¼ï¼š

1. **W3C RDF/OWL Design Patterns**
2. **Neo4j Graph Data Modeling Patterns**
3. **Knowledge Graph Design Patterns (Hogan et al.)**
4. **Semantic Web Design Patterns**

ç›¸å…³è®ºæ–‡å’Œèµ„æºï¼š
- Hogan, A., et al. "Knowledge Graphs" (2021)
- Shimizu, C., et al. "Modular Ontology Modeling" (2020)
- Gangemi, A. "Ontology Design Patterns" (2005)

---

**å†æ¬¡æ„Ÿè°¢ç”¨æˆ·çš„æ·±åˆ»æ´å¯Ÿï¼ä»case-by-caseåˆ°é€šç”¨æ¡†æ¶ï¼Œè¿™æ˜¯è´¨çš„é£è·ƒã€‚** ğŸš€
