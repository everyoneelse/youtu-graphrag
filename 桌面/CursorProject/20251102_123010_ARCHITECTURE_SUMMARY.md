# å¤šä¿¡å·Headå®ä½“å»é‡ - æ¶æ„æ€»ç»“

**åˆ›å»ºæ—¶é—´**: 2025-11-02 12:30:10

---

## æ•´ä½“æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Multi-Signal Head Entity Deduplication            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Phase 1: å¤šä¿¡å·å€™é€‰å¯¹ç”Ÿæˆ (Multi-Signal Candidate Generation)           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚Signal 1:     â”‚  â”‚Signal 2:     â”‚  â”‚Signal 3:     â”‚  â”‚Signal 4:     â”‚â”‚
â”‚  â”‚è¯­ä¹‰ç›¸ä¼¼åº¦    â”‚  â”‚å­å›¾ç»“æ„      â”‚  â”‚æ˜¾å¼åˆ«åå…³ç³»  â”‚  â”‚å±æ€§é‡åˆåº¦    â”‚â”‚
â”‚  â”‚(Semantic)    â”‚  â”‚(Subgraph)    â”‚  â”‚(Alias)       â”‚  â”‚(Attribute)   â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚Name          â”‚  â”‚Relation      â”‚  â”‚Graph edges:  â”‚  â”‚Properties:   â”‚â”‚
â”‚  â”‚embeddings    â”‚  â”‚patterns      â”‚  â”‚"åˆ«ååŒ…æ‹¬"    â”‚  â”‚definition,   â”‚â”‚
â”‚  â”‚              â”‚  â”‚              â”‚  â”‚"alias_of"    â”‚  â”‚type, etc.    â”‚â”‚
â”‚  â”‚cosine(A,B)   â”‚  â”‚fingerprint   â”‚  â”‚              â”‚  â”‚              â”‚â”‚
â”‚  â”‚>= 0.75       â”‚  â”‚similarity    â”‚  â”‚confidence    â”‚  â”‚Jaccard       â”‚â”‚
â”‚  â”‚              â”‚  â”‚>= 0.60       â”‚  â”‚= 1.0         â”‚  â”‚>= 0.60       â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚         â”‚                 â”‚                 â”‚                 â”‚         â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                  â”‚                                       â”‚
â”‚                                  â–¼                                       â”‚
â”‚                    [ Candidate Pairs Collection ]                        â”‚
â”‚                   {(e1, e2): {signals: {...}}}                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Phase 2: ä¿¡å·èåˆä¸æ’åº (Signal Fusion & Ranking)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                           â”‚
â”‚  Fusion Formula:                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ fusion_score = Î£ (signal_i Ã— weight_i)                         â”‚    â”‚
â”‚  â”‚                                                                  â”‚    â”‚
â”‚  â”‚ = semanticÃ—0.30 + subgraphÃ—0.25 + aliasÃ—0.35 + attributeÃ—0.10  â”‚    â”‚
â”‚  â”‚                                                                  â”‚    â”‚
â”‚  â”‚ Special Rule: if alias >= 0.9 â†’ boost to 0.95                  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                           â”‚
â”‚  Output: Sorted list of (e1, e2, fusion_score, signals_dict)            â”‚
â”‚                                                                           â”‚
â”‚  Example:                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ ("å‰å¸ƒæ–¯ä¼ªå½±", "æˆªæ–­ä¼ªå½±", 0.95, {                          â”‚       â”‚
â”‚  â”‚   semantic: 0.45,                                             â”‚       â”‚
â”‚  â”‚   subgraph: 0.40,                                             â”‚       â”‚
â”‚  â”‚   alias: 1.0,  â† KEY SIGNAL!                                 â”‚       â”‚
â”‚  â”‚   attribute: 0.70                                             â”‚       â”‚
â”‚  â”‚ })                                                            â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Phase 3: LLMéªŒè¯ (LLM Validation with Multi-Signal Context)            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                           â”‚
â”‚  Filter: Only pairs with fusion_score >= 0.70                           â”‚
â”‚                                                                           â”‚
â”‚  LLM Input:                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ Entity 1: å‰å¸ƒæ–¯ä¼ªå½±                                         â”‚        â”‚
â”‚  â”‚ Entity 2: æˆªæ–­ä¼ªå½±                                           â”‚        â”‚
â”‚  â”‚                                                              â”‚        â”‚
â”‚  â”‚ Multi-Signal Evidence:                                       â”‚        â”‚
â”‚  â”‚ ğŸ”´ EXPLICIT ALIAS RELATION: confidence=1.0                  â”‚        â”‚
â”‚  â”‚    â†’ Directly connected by alias relation in graph!         â”‚        â”‚
â”‚  â”‚ ğŸ“ Semantic Similarity: 0.45                                â”‚        â”‚
â”‚  â”‚ ğŸ”— Subgraph Similarity: 0.40                                â”‚        â”‚
â”‚  â”‚ ğŸ“Š Attribute Overlap: 0.70                                  â”‚        â”‚
â”‚  â”‚                                                              â”‚        â”‚
â”‚  â”‚ Entity 1 Subgraph:                                          â”‚        â”‚
â”‚  â”‚ - å‰å¸ƒæ–¯ä¼ªå½± --[å®šä¹‰]--> ...                                â”‚        â”‚
â”‚  â”‚ - å‰å¸ƒæ–¯ä¼ªå½± --[åˆ«ååŒ…æ‹¬]--> æˆªæ–­ä¼ªå½±                       â”‚        â”‚
â”‚  â”‚                                                              â”‚        â”‚
â”‚  â”‚ Entity 2 Subgraph:                                          â”‚        â”‚
â”‚  â”‚ - æˆªæ–­ä¼ªå½± --[è§£å†³æ–¹æ¡ˆ]--> ...                              â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                                           â”‚
â”‚  LLM Output:                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ {                                                            â”‚        â”‚
â”‚  â”‚   "should_merge": true,                                      â”‚        â”‚
â”‚  â”‚   "confidence": 0.95,                                        â”‚        â”‚
â”‚  â”‚   "rationale": "Explicit alias relation in graph...",       â”‚        â”‚
â”‚  â”‚   "primary_signal": "alias"                                  â”‚        â”‚
â”‚  â”‚ }                                                            â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Phase 4: åˆ«åå…³ç³»åˆå¹¶ (Alias Relationship Merge)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                           â”‚
â”‚  Strategy: Preserve nodes + Create explicit alias edges                 â”‚
â”‚                                                                           â”‚
â”‚  Before:                              After:                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ entity_198           â”‚            â”‚ entity_361 (æˆªæ–­ä¼ªå½±)       â”‚     â”‚
â”‚  â”‚ (å‰å¸ƒæ–¯ä¼ªå½±)         â”‚            â”‚ [representative]            â”‚     â”‚
â”‚  â”‚                      â”‚            â”‚   â† [alias_of] â† entity_198 â”‚     â”‚
â”‚  â”‚ --[åˆ«ååŒ…æ‹¬]-->      â”‚            â”‚   â†’ [è§£å†³æ–¹æ¡ˆ] â†’ ...        â”‚     â”‚
â”‚  â”‚   entity_361         â”‚            â”‚                             â”‚     â”‚
â”‚  â”‚                      â”‚            â”‚ entity_198 (å‰å¸ƒæ–¯ä¼ªå½±)     â”‚     â”‚
â”‚  â”‚ --[å®šä¹‰]--> ...      â”‚            â”‚ [alias]                     â”‚     â”‚
â”‚  â”‚                      â”‚            â”‚   â†’ [alias_of] â†’ entity_361 â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                           â”‚
â”‚  Key Benefits:                                                           â”‚
â”‚  âœ“ No self-loops                                                         â”‚
â”‚  âœ“ Alias information explicit in graph structure                        â”‚
â”‚  âœ“ Queryable: can find all aliases of an entity                         â”‚
â”‚  âœ“ Reversible: can restore original structure if needed                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## æ ¸å¿ƒæ•°æ®æµ

```
Input: å®ä½“èŠ‚ç‚¹åˆ—è¡¨
  â”‚
  â”œâ”€â†’ [Signal 1] â†’ candidates_semantic: [(e1, e2, 0.85), ...]
  â”œâ”€â†’ [Signal 2] â†’ candidates_subgraph: [(e3, e4, 0.72), ...]
  â”œâ”€â†’ [Signal 3] â†’ candidates_alias: [(e5, e6, 1.0), ...]
  â””â”€â†’ [Signal 4] â†’ candidates_attribute: [(e7, e8, 0.68), ...]
  â”‚
  â–¼
Fusion: 
  all_candidates = {
    (e1, e2): {signals: {semantic: 0.85, subgraph: 0.70}, fusion: 0.78},
    (e3, e4): {signals: {semantic: 0.65, alias: 1.0}, fusion: 0.95},
    ...
  }
  â”‚
  â–¼
Filter: fusion_score >= 0.70
  â”‚
  â–¼
LLM Validation:
  for each candidate:
    prompt = format_with_signals(e1, e2, signals)
    decision = llm.validate(prompt)
    if decision.should_merge:
      merge_mapping[e1] = e2
  â”‚
  â–¼
Merge (Alias Strategy):
  for duplicate, representative in merge_mapping:
    1. Transfer edges to representative
    2. Create: duplicate --[alias_of]--> representative
    3. Mark: duplicate.role = "alias"
    4. Mark: representative.role = "representative"
  â”‚
  â–¼
Output: å›¾ with explicit alias relationships
```

---

## å…³é”®å†³ç­–ç‚¹

### 1. ä¿¡å·æƒé‡åˆ†é…

```
Why: alias (0.35) > semantic (0.30) > subgraph (0.25) > attribute (0.10)?

Rationale:
- Alias (0.35): Explicit graph knowledge, most reliable
- Semantic (0.30): Direct name matching, intuitive but incomplete
- Subgraph (0.25): Structural evidence, robust but indirect
- Attribute (0.10): Supporting evidence, may be noisy
```

### 2. èåˆç­–ç•¥é€‰æ‹©

```
Option A: OR fusion (union)
  - Any signal above threshold â†’ candidate
  - High recall, but may introduce noise

Option B: AND fusion (intersection)
  - All signals above threshold â†’ candidate
  - High precision, but may miss cases

âœ“ Option C: Weighted fusion (adopted)
  - Flexible balance between precision and recall
  - Boosting rules for high-confidence signals
```

### 3. LLMéªŒè¯æ—¶æœº

```
Strategy: Two-stage filtering

Stage 1: Signal fusion (cheap)
  - Quickly filter obvious non-matches
  - fusion_score < 0.70 â†’ reject

Stage 2: LLM validation (expensive)
  - Only validate 0.70-0.95 candidates
  - fusion_score >= 0.95 (with alias) â†’ auto-accept

Cost savings: ~60-70% reduction in LLM calls
```

### 4. åˆå¹¶ç­–ç•¥å¯¹æ¯”

```
Delete Strategy (Traditional):
  - Pros: Reduces node count
  - Cons: Loss of alias information, self-loops risk
  
âœ“ Alias Strategy (Adopted):
  - Pros: Preserves information, explicit relationships, queryable
  - Cons: Node count unchanged
  
Decision: Information preservation > node reduction
```

---

## æ€§èƒ½ç‰¹å¾

### è®¡ç®—å¤æ‚åº¦

```
n = number of entities

Signal 1 (Semantic):
  - Embedding: O(n)
  - Pairwise similarity: O(nÂ²) [can be optimized with ANN]
  
Signal 2 (Subgraph):
  - Fingerprint extraction: O(n Ã— d), d = avg degree
  - Pairwise similarity: O(nÂ²)
  
Signal 3 (Alias):
  - Edge traversal: O(|E|)
  - Very fast!
  
Signal 4 (Attribute):
  - Set computation: O(nÂ²)
  
LLM Validation:
  - Per pair: ~1-2s
  - Total: O(k Ã— t), k = candidates after filter, t = llm time

Overall: O(nÂ² + k)
  - nÂ² dominated by candidate generation
  - k dominated by LLM validation
```

### ä¼˜åŒ–ç­–ç•¥

1. **Approximate Nearest Neighbor (ANN)** for semantic signal
   ```python
   import faiss
   # Reduce O(nÂ²) to O(n log n)
   ```

2. **Batch LLM calls** with async
   ```python
   async def batch_validate():
       tasks = [llm.validate_async(pair) for pair in batch]
       results = await asyncio.gather(*tasks)
   ```

3. **Incremental deduplication**
   ```python
   # Process new entities only
   new_entities = get_entities_after(last_dedup_timestamp)
   ```

---

## å¯æ‰©å±•æ€§

### æ·»åŠ æ–°ä¿¡å·

```python
# 1. å®ç°ä¿¡å·ç”Ÿæˆå™¨
def _generate_my_new_signal_candidates(self, nodes):
    # Your logic here
    return [(e1, e2, score), ...]

# 2. é›†æˆåˆ°èåˆä¸­
all_candidates[key]["signals"]["my_signal"] = score

# 3. æ·»åŠ æƒé‡é…ç½®
signal_weights["my_signal"] = 0.15
```

### è‡ªå®šä¹‰èåˆè§„åˆ™

```python
# Example: Domain-specific boosting
if signals.get("my_domain_signal", 0) > 0.9:
    if signals.get("semantic", 0) > 0.6:
        fusion_score = 0.95  # Boost!
```

---

## ä¸ç°æœ‰ç³»ç»Ÿé›†æˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  KnowledgeTreeGen (kt_gen.py)                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Traditional Methods (preserved):                          â”‚
â”‚  - _collect_head_candidates()                              â”‚
â”‚  - _generate_semantic_candidates()                         â”‚
â”‚  - _validate_candidates_with_llm()                         â”‚
â”‚  - _merge_head_nodes()                                     â”‚
â”‚                                                             â”‚
â”‚  + Multi-Signal Extension (new mixin):                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ MultiSignalHeadDeduplication                         â”‚  â”‚
â”‚  â”‚ - _compute_subgraph_fingerprint()                    â”‚  â”‚
â”‚  â”‚ - _generate_subgraph_candidates()                    â”‚  â”‚
â”‚  â”‚ - _extract_explicit_alias_candidates()               â”‚  â”‚
â”‚  â”‚ - _generate_attribute_overlap_candidates()           â”‚  â”‚
â”‚  â”‚ - _generate_multi_signal_candidates()                â”‚  â”‚
â”‚  â”‚ - _validate_candidates_with_llm_multi_signal()       â”‚  â”‚
â”‚  â”‚ - deduplicate_heads_multi_signal() â† Main Entry     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â”‚  Usage:                                                     â”‚
â”‚  # Option 1: In build_knowledge_graph()                    â”‚
â”‚  if config.multi_signal.enabled:                           â”‚
â”‚      self.deduplicate_heads_multi_signal()                 â”‚
â”‚  else:                                                      â”‚
â”‚      self.deduplicate_heads()  # Traditional               â”‚
â”‚                                                             â”‚
â”‚  # Option 2: Standalone                                    â”‚
â”‚  builder.build_graph(skip_dedup=True)                      â”‚
â”‚  stats = builder.deduplicate_heads_multi_signal()          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## æ€»ç»“

### âœ… è§£å†³çš„é—®é¢˜

1. **é—æ¼è¯­ä¹‰ä¸ç›¸ä¼¼çš„åˆ«åå¯¹**ï¼ˆå¦‚"å‰å¸ƒæ–¯ä¼ªå½±"/"æˆªæ–­ä¼ªå½±"ï¼‰
2. **æ— æ³•åˆ©ç”¨å›¾ä¸­å·²æœ‰çš„åˆ«åå…³ç³»**
3. **å­å›¾ä¸åŒæ—¶æ— æ³•è¯†åˆ«**
4. **å•ä¸€ä¿¡å·çš„é²æ£’æ€§ä¸è¶³**

### â­ æ ¸å¿ƒåˆ›æ–°

1. **å¤šä¿¡å·èåˆ**: 5ç§ä¿¡å·äº’è¡¥ï¼Œæé«˜é²æ£’æ€§
2. **åˆ«åå…³ç³»æŒ–æ˜**: åˆ©ç”¨å›¾ä¸­æ˜¾å¼çŸ¥è¯†
3. **ç»“æ„æŒ‡çº¹**: ä¸è¦æ±‚å­å›¾å®Œå…¨åŒ¹é…
4. **ä¸¤é˜¶æ®µéªŒè¯**: ä¿¡å·é¢„ç­›é€‰ + LLMç²¾éªŒ

### ğŸ“Š é¢„æœŸæ”¶ç›Š

- **å¬å›ç‡**: â†‘ 30-50%
- **ç²¾ç¡®ç‡**: â‰¥ 90%
- **è®¡ç®—æˆæœ¬**: â†‘ 20-30%
- **LLMæˆæœ¬**: â†“ 60-70% (é€šè¿‡é¢„ç­›é€‰)

### ğŸ¯ é€‚ç”¨åœºæ™¯

- âœ… åŒ»å­¦ã€æŠ€æœ¯é¢†åŸŸï¼ˆä¸“ä¸šæœ¯è¯­ï¼Œå¤æ‚åˆ«åï¼‰
- âœ… è·¨è¯­è¨€åœºæ™¯ï¼ˆä¸­è‹±æ–‡æ··åˆï¼‰
- âœ… å·²æœ‰éƒ¨åˆ†åˆ«åå…³ç³»çš„å›¾
- âœ… å¯¹å¬å›ç‡æœ‰é«˜è¦æ±‚çš„åœºæ™¯
